<!-- Authentication Modal Component -->
<!-- Usage: Include this HTML in your page and initialize with AuthModalComponent.js -->
<dialog id="auth-modal" class="auth-modal" data-testid="auth-modal">
  <article>
    <header>
      <h3>Sign In Required</h3>
      <button
        type="button"
        id="close-auth-modal"
        class="close-button"
        aria-label="Close"
        data-testid="close-auth-modal"
      >
        &times;
      </button>
    </header>

    <div id="auth-tabs" class="tab-navigation" data-testid="auth-tabs">
      <button type="button" id="signin-tab" class="tab-button active" data-testid="signin-tab">
        Sign In
      </button>
      <button type="button" id="signup-tab" class="tab-button secondary" data-testid="signup-tab">
        Sign Up
      </button>
    </div>

    <!-- Sign In Form -->
    <form id="signin-form" class="auth-form" data-testid="signin-form">
      <!-- Form-wide error display -->
      <div
        id="signin-form-errors"
        class="form-errors hidden"
        data-testid="signin-form-errors"
      ></div>

      <fieldset>
        <legend>Sign In</legend>
        <label for="signin-email">
          Email
          <input
            type="email"
            id="signin-email"
            name="email"
            required
            placeholder="your@email.com"
            data-testid="signin-email"
            aria-describedby="signin-email-error"
          />
          <div
            id="signin-email-error"
            class="field-error hidden"
            data-testid="signin-email-error"
          ></div>
        </label>
        <label for="signin-password">
          Password
          <input
            type="password"
            id="signin-password"
            name="password"
            required
            placeholder="Password"
            data-testid="signin-password"
            aria-describedby="signin-password-error"
          />
          <div
            id="signin-password-error"
            class="field-error hidden"
            data-testid="signin-password-error"
          ></div>
        </label>
        <button type="submit" id="signin-submit" data-testid="signin-submit">Sign In</button>
        <button type="button" id="forgot-password" class="secondary" data-testid="forgot-password">
          Forgot Password?
        </button>
      </fieldset>
    </form>

    <!-- Sign Up Form -->
    <form id="signup-form" class="auth-form hidden" data-testid="signup-form">
      <!-- Form-wide error display -->
      <div
        id="signup-form-errors"
        class="form-errors hidden"
        data-testid="signup-form-errors"
      ></div>

      <fieldset>
        <legend>Create Account</legend>
        <label for="signup-email">
          Email
          <input
            type="email"
            id="signup-email"
            name="email"
            required
            placeholder="your@email.com"
            data-testid="signup-email"
            aria-describedby="signup-email-error"
          />
          <div
            id="signup-email-error"
            class="field-error hidden"
            data-testid="signup-email-error"
          ></div>
        </label>
        <label for="signup-password">
          Password
          <input
            type="password"
            id="signup-password"
            name="password"
            required
            placeholder="Password (8+ characters)"
            minlength="8"
            data-testid="signup-password"
            aria-describedby="signup-password-error"
          />
          <div
            id="signup-password-error"
            class="field-error hidden"
            data-testid="signup-password-error"
          ></div>
        </label>
        <label for="signup-confirm">
          Confirm Password
          <input
            type="password"
            id="signup-confirm"
            name="confirm"
            required
            placeholder="Confirm password"
            data-testid="signup-confirm"
            aria-describedby="signup-confirm-error"
          />
          <div
            id="signup-confirm-error"
            class="field-error hidden"
            data-testid="signup-confirm-error"
          ></div>
        </label>
        <button type="submit" id="signup-submit" data-testid="signup-submit">Create Account</button>
      </fieldset>
    </form>

    <!-- Configuration Required -->
    <div id="config-required" class="config-required hidden" data-testid="config-required">
      <h3>Setup Required</h3>
      <p>Please configure your Supabase connection in the extension options.</p>
      <button type="button" id="open-options-from-modal" data-testid="open-options-from-modal">
        Open Options
      </button>
    </div>
  </article>
</dialog>
